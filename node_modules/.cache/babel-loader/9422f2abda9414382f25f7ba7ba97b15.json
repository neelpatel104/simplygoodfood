{"ast":null,"code":"var _jsxFileName = \"/Users/neelpatel/Desktop/Classes/342/Project/frontend-react/src/shop.js\";\nimport React from 'react';\nimport { Link } from \"react-router-dom\";\nimport { Redirect } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction Card(props) {\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"item\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"itemContent\",\n      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n        children: [\"Seller: \", props.seller]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 9,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [\"Name: \", props.name]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 10,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [\"Price: \", props.price]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 11,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [\"Amount: \", props.amount]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 12,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [\"Pickup: \", props.pickup]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 13,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [\"Delivery: \", props.delivery]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 14,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 8,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"itemControls\",\n      children: /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"itemButton\",\n        onClick: () => props.discard(props.seller, props.name),\n        children: \"Discard\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 17,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 16,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 7,\n    columnNumber: 5\n  }, this);\n}\n\n_c = Card;\nexport default class Shopping extends React.Component {\n  constructor(props) {\n    super(props);\n    var user;\n\n    if (this.props.location.state === undefined) {\n      user = \"\";\n    } else {\n      user = this.props.location.state.user;\n    }\n\n    this.state = {\n      user: user,\n      id: 0,\n      items: [],\n      displayItem: 0,\n      newSeller: \"\",\n      newName: \"\",\n      newPrice: \"\",\n      newAmount: \"\",\n      newPickup: \"\",\n      newDelivery: \"\"\n    };\n    this.addFood = this.addFood.bind(this);\n    this.handleTextChange = this.handleTextChange.bind(this);\n    this.discard = this.discard.bind(this);\n    this.addTestingValues = this.addTestingValues.bind(this);\n    this.getFoodItems();\n  }\n\n  async getFoodItems() {\n    await fetch('http://localhost:8080/foodItems', {\n      method: 'GET'\n    }).then(response => response.json()).then(responseJSON => {\n      this.setState({\n        items: responseJSON\n      });\n    }).catch(err => {\n      throw new Error(err);\n    });\n  }\n\n  async postFood(newItem) {\n    await fetch('http://localhost:8080/foodItem', {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify(newItem)\n    }).then(() => this.getFoodItems()).catch(err => {\n      throw new Error(err);\n    });\n  }\n\n  async deleteFood(seller, name) {\n    await fetch(`http://localhost:8080/foodItem/${seller}/${name}`, {\n      method: 'DELETE'\n    }).then(() => this.getFoodItems()).catch(err => {\n      throw new Error(err);\n    });\n  }\n\n  addFood(event) {\n    event.preventDefault();\n    let newItem = {\n      seller: this.state.newSeller,\n      name: this.state.newName,\n      price: this.state.newPrice,\n      amount: this.state.newAmount,\n      pickup: this.state.newPickup,\n      delivery: this.state.newDelivery\n    };\n    this.postFood(newItem); //Reset input boxes\n\n    this.setState({\n      newSeller: \"\"\n    });\n    this.setState({\n      newName: \"\"\n    });\n    this.setState({\n      newPrice: \"\"\n    });\n    this.setState({\n      newAmount: \"\"\n    });\n    this.setState({\n      newPickup: \"\"\n    });\n    this.setState({\n      newDelivery: \"\"\n    });\n  }\n\n  handleTextChange(event) {\n    const value = event.target.value;\n    this.setState({\n      [event.target.name]: value\n    });\n  }\n\n  discard(seller, name) {\n    this.deleteFood(seller, name);\n  }\n\n  addTestingValues() {\n    let newFood = {\n      seller: \"Inc\",\n      name: \"Tomatoes\",\n      price: 1.23,\n      amount: 15,\n      pickup: \"112 Foods Inc Dr\",\n      delivery: 5.99\n    };\n    this.postFood(newFood);\n    newFood = {\n      seller: \"Inc\",\n      name: \"Cabbages\",\n      price: 0.78,\n      amount: 9,\n      pickup: \"112 Foods Inc Dr\",\n      delivery: 5.99\n    };\n    this.postFood(newFood);\n    newFood = {\n      seller: \"Ultimate\",\n      name: \"Pasta\",\n      price: 3.45,\n      amount: 2,\n      pickup: \"Ultimate Avenue\",\n      delivery: \"Free\"\n    };\n    this.postFood(newFood);\n    newFood = {\n      seller: \"Food Lion\",\n      name: \"Mushrooms\",\n      price: 2,\n      amount: 10,\n      pickup: \"Avent Ferry Dr\",\n      delivery: \"2.99\"\n    };\n    this.postFood(newFood);\n    newFood = {\n      seller: \"Lowes' Foods\",\n      name: \"Bananas\",\n      price: 1.50,\n      amount: 50,\n      pickup: \"NC State Campus Dr\",\n      delivery: \"5.99\"\n    };\n    this.postFood(newFood);\n  }\n\n  renderCards() {\n    var cards = [];\n\n    for (let i = 0; i < this.state.items.length; i++) {\n      cards.push( /*#__PURE__*/_jsxDEV(Card, {\n        seller: this.state.items[i].seller,\n        name: this.state.items[i].name,\n        price: this.state.items[i].price,\n        amount: this.state.items[i].amount,\n        pickup: this.state.items[i].pickup,\n        delivery: this.state.items[i].delivery,\n        complete: this.complete,\n        discard: this.discard,\n        shuffle: this.shuffle\n      }, i, false, {\n        fileName: _jsxFileName,\n        lineNumber: 136,\n        columnNumber: 18\n      }, this));\n    }\n\n    return cards;\n  }\n\n  renderForm() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Add a food (temporarily on this page)\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 155,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"item\",\n        children: /*#__PURE__*/_jsxDEV(\"form\", {\n          onSubmit: this.addFood,\n          children: [\"Seller: \", /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            name: \"newSeller\",\n            value: this.state.newSeller,\n            onChange: this.handleTextChange\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 158,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 159,\n            columnNumber: 13\n          }, this), \"Food name: \", /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            name: \"newName\",\n            value: this.state.newName,\n            onChange: this.handleTextChange\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 160,\n            columnNumber: 24\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 161,\n            columnNumber: 13\n          }, this), \"Price: \", /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            name: \"newPrice\",\n            value: this.state.newPrice,\n            onChange: this.handleTextChange\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 162,\n            columnNumber: 20\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 163,\n            columnNumber: 13\n          }, this), \"Amount: \", /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"number\",\n            name: \"newAmount\",\n            value: this.state.newAmount,\n            onChange: this.handleTextChange\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 164,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 165,\n            columnNumber: 13\n          }, this), \"Pickup address: \", /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            name: \"newPickup\",\n            value: this.state.newPickup,\n            onChange: this.handleTextChange\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 166,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 167,\n            columnNumber: 13\n          }, this), \"Delivery fee: \", /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            name: \"newDelivery\",\n            value: this.state.newDelivery,\n            onChange: this.handleTextChange\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 168,\n            columnNumber: 27\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 169,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            id: \"addItemButton\",\n            children: \"Add food\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 170,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 157,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 156,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 154,\n      columnNumber: 7\n    }, this);\n  }\n\n  render() {\n    if (this.state.user === \"\") {\n      return /*#__PURE__*/_jsxDEV(Redirect, {\n        to: \"/\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 182,\n        columnNumber: 11\n      }, this);\n    }\n\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [this.renderCards(), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 190,\n        columnNumber: 9\n      }, this), this.renderForm(), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 194,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        id: \"addTestingValues\",\n        onClick: this.addTestingValues,\n        children: \"Populate with testing items\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 195,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 199,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"input-group-btn\",\n        children: /*#__PURE__*/_jsxDEV(Link, {\n          to: {\n            pathname: '/checkout',\n            state: {\n              user: this.state.user\n            }\n          },\n          children: \" Checkout \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 201,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 200,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 187,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nvar _c;\n\n$RefreshReg$(_c, \"Card\");","map":{"version":3,"sources":["/Users/neelpatel/Desktop/Classes/342/Project/frontend-react/src/shop.js"],"names":["React","Link","Redirect","Card","props","seller","name","price","amount","pickup","delivery","discard","Shopping","Component","constructor","user","location","state","undefined","id","items","displayItem","newSeller","newName","newPrice","newAmount","newPickup","newDelivery","addFood","bind","handleTextChange","addTestingValues","getFoodItems","fetch","method","then","response","json","responseJSON","setState","catch","err","Error","postFood","newItem","headers","body","JSON","stringify","deleteFood","event","preventDefault","value","target","newFood","renderCards","cards","i","length","push","complete","shuffle","renderForm","render","pathname"],"mappings":"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","sourcesContent":["import React from 'react';\nimport { Link } from \"react-router-dom\";\nimport { Redirect } from \"react-router-dom\";\n\nfunction Card(props) {\n  return (\n    <div className=\"item\">\n      <div className=\"itemContent\">\n        <p>Seller: {props.seller}</p>\n        <p>Name: {props.name}</p>\n        <p>Price: {props.price}</p>\n        <p>Amount: {props.amount}</p>\n        <p>Pickup: {props.pickup}</p>\n        <p>Delivery: {props.delivery}</p>\n      </div>\n      <div className=\"itemControls\">\n        <button className=\"itemButton\" onClick={() => props.discard(props.seller, props.name)}>Discard</button>\n      </div>\n    </div>\n  );\n}\n\nexport default class Shopping extends React.Component {\n  constructor(props) {\n    super(props);\n\n    var user;\n    if (this.props.location.state === undefined) {\n      user = \"\";\n    } else {\n      user = this.props.location.state.user;\n    }\n\n    this.state = {\n      user: user,\n      id: 0,\n      items: [],\n      displayItem: 0,\n      newSeller: \"\",\n      newName: \"\",\n      newPrice: \"\",\n      newAmount: \"\",\n      newPickup: \"\",\n      newDelivery: \"\",\n    };\n    this.addFood=this.addFood.bind(this);\n    this.handleTextChange=this.handleTextChange.bind(this);\n    this.discard=this.discard.bind(this);\n    this.addTestingValues=this.addTestingValues.bind(this);\n\n    this.getFoodItems();\n  }\n\n  async getFoodItems(){\n    await fetch('http://localhost:8080/foodItems', {\n      method: 'GET',\n    })\n    .then(response => response.json())\n    .then(responseJSON => {\n      this.setState({items: responseJSON});\n    })\n    .catch(err => {\n      throw new Error(err)\n    })\n  }\n\n  async postFood(newItem) {\n    await fetch('http://localhost:8080/foodItem', {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify(newItem)\n    })\n    .then(() => this.getFoodItems())\n    .catch(err => {\n      throw new Error(err)\n    })\n  }\n\n  async deleteFood(seller, name) {\n    await fetch(`http://localhost:8080/foodItem/${seller}/${name}`, {\n      method: 'DELETE',\n    })\n    .then(() => this.getFoodItems())\n    .catch(err => {\n      throw new Error(err)\n    })\n  }\n\n  addFood(event) {\n    event.preventDefault();\n\n    let newItem = {seller: this.state.newSeller, name: this.state.newName,\n                  price: this.state.newPrice, amount: this.state.newAmount,\n                  pickup: this.state.newPickup, delivery: this.state.newDelivery};\n\n    this.postFood(newItem);\n\n    //Reset input boxes\n    this.setState({newSeller: \"\"});\n    this.setState({newName: \"\"});\n    this.setState({newPrice: \"\"});\n    this.setState({newAmount: \"\"});\n    this.setState({newPickup: \"\"});\n    this.setState({newDelivery: \"\"});\n  }\n\n  handleTextChange(event) {\n    const value = event.target.value;\n    this.setState({\n      [event.target.name]: value\n    });\n  }\n\n  discard(seller, name) {\n    this.deleteFood(seller, name);\n  }\n\n  addTestingValues() {\n    let newFood = {seller: \"Inc\", name: \"Tomatoes\", price: 1.23, amount: 15, pickup: \"112 Foods Inc Dr\", delivery: 5.99};\n    this.postFood(newFood);\n    newFood = {seller: \"Inc\", name: \"Cabbages\", price: 0.78, amount: 9, pickup: \"112 Foods Inc Dr\", delivery: 5.99};\n    this.postFood(newFood);\n    newFood = {seller: \"Ultimate\", name: \"Pasta\", price: 3.45, amount: 2, pickup: \"Ultimate Avenue\", delivery: \"Free\"};\n    this.postFood(newFood);\n    newFood = {seller: \"Food Lion\", name: \"Mushrooms\", price: 2, amount: 10, pickup: \"Avent Ferry Dr\", delivery: \"2.99\"};\n    this.postFood(newFood);\n    newFood = {seller: \"Lowes' Foods\", name: \"Bananas\", price: 1.50, amount: 50, pickup: \"NC State Campus Dr\", delivery: \"5.99\"};\n    this.postFood(newFood);\n  }\n\n  renderCards() {\n    var cards = [];\n    for (let i = 0; i < this.state.items.length; i++) {\n      cards.push(<Card\n              key={i}\n              seller={this.state.items[i].seller}\n              name={this.state.items[i].name}\n              price={this.state.items[i].price}\n              amount={this.state.items[i].amount}\n              pickup={this.state.items[i].pickup}\n              delivery={this.state.items[i].delivery}\n              complete={this.complete}\n              discard={this.discard}\n              shuffle={this.shuffle}\n            />);\n    }\n    return cards;\n  }\n\n  renderForm() {\n    return (\n      <div>\n        <h2>Add a food (temporarily on this page)</h2>\n        <div className=\"item\">\n          <form onSubmit={this.addFood}>\n            Seller: <input type=\"text\" name=\"newSeller\" value={this.state.newSeller} onChange={this.handleTextChange}></input>\n            <br />\n            Food name: <input type=\"text\" name=\"newName\" value={this.state.newName} onChange={this.handleTextChange}></input>\n            <br />\n            Price: <input type=\"text\" name=\"newPrice\" value={this.state.newPrice} onChange={this.handleTextChange}></input>\n            <br />\n            Amount: <input type=\"number\" name=\"newAmount\" value={this.state.newAmount} onChange={this.handleTextChange}></input>\n            <br />\n            Pickup address: <input type=\"text\" name=\"newPickup\" value={this.state.newPickup} onChange={this.handleTextChange}></input>\n            <br />\n            Delivery fee: <input type=\"text\" name=\"newDelivery\" value={this.state.newDelivery} onChange={this.handleTextChange}></input>\n            <br />\n            <button id=\"addItemButton\">\n              Add food\n            </button>\n          </form>\n        </div>\n      </div>\n    );\n  }\n\n  render() {\n    if (this.state.user === \"\") {\n        return(\n          <Redirect to=\"/\" />\n        );\n    }\n\n    return (\n      <div>\n        {this.renderCards()}\n\n        <br />\n\n        {this.renderForm()}\n\n        <br />\n        <button id=\"addTestingValues\" onClick={this.addTestingValues}>\n          Populate with testing items\n        </button>\n\n        <br />\n        <span className=\"input-group-btn\">\n          <Link to={{ pathname: '/checkout', state: { user: this.state.user} }}> Checkout </Link>\n        </span>\n\n      </div>\n    );\n  }\n}\n"]},"metadata":{},"sourceType":"module"}